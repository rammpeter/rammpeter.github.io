<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type" /></head>
<body onload="window.location = 'http://rammpeter.github.io/index.html?target=panorama';">

<div style="position: relative;" xmlns="http://www.w3.org/1999/html">
    <div class="shadow opaque" style="width:100%; height: 100%; background-color: #99CC99; position:absolute; top:0px; left:0px; z-index:1;">
    </div>
    <div style="position: relative; z-index: 2; padding: 10px;">
        <div id="panorama_global">
            <div id="panorama_text" style="float:left;">
                <h2>Panorama for Oracle</h2>
                „Panorama” is my swiss army knife for performance analysis and troubleshooting on Oracle databases.<br/><br/>
                Completed over many years it contains solutions for analysis workflows based on practical experience.<br/>
                As a GUI-application it ensures quick reaction with predefined workflows instead off dealing by hand with lots of SQL scripts.
                <h3>What does it offer?</h3>
                <ul>
                    <li>Dialogs and workflows for:
                        <ul>
                            <li>Performance-optimization of applications using Oracle databases</li>
                            <li>Analysis of runtimes and wait events, also back in history</li>
                            <li>Preparation of several Oracle database's internal information for easy evaluation</li>
                            <li>Systematic scan over your whole database for serveral performance pitfalls (more than 100 considered aspects)</li>
                        </ul>
                    </li>
                    <br/>
                    <li>it focuses on usage by DBAs and also by software developers with less Oracle knowledge</li>
                    <li>aims to many issues that are inadequately analyzed and presented by other existing tools such as Enterprise Manager</li>
                    <li>Panorama only reads via SELECT-SQLs from database. No write access, own database objects, compile etc. is needed at your database.</li>
                    <li>Supports:
                        <ul>
                            <li>Oracle databases on standard hardware as well as RAC-systems and engineered systems (EXADATA)</li>
                            <li>Oracle database versions beginning with Oracle 10.2</li>
                        </ul>
                    </li>
                    <li><a href="panorama_content.html" target="_blank">Here you can find a function overview by available top level menu entries</a></li>
                </ul>

                <h3>Which preconditions are required?</h3>
                <ul>
                    <li>
                        Java runtime environment, version 7 or above to run Panorama application.<b/>
                        Beginning with Java 8 you also need the <a href="http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html">Java Cryptography Extension Files</a> installed.
                    </li>
                    <li>Licensing of Oracle's "Diagnostic Pack" is required at connected Oracle-DB for several functions of panorama (if you don't use Panorama-Sampler instead)</li>
                    <li>Licensing of Oracle's "Tuning Pack" is required at connected Oracle-DB if using Panorama's function "SQL monitor"</li>
                    <li>Web browser to access Panorama-GUI</li>
                    <li>Your Oracle-User used for login with Panorama requires the following grants:</li>
                    <ul>
                        <li>"SELECT ANY DICTIONARY" as default grant for access on DBA_xxx-views</li>
                        <li>Starting with Oracle 11.2.0.4 you also need the grant "OEM_MONITOR" to generate Oracle's builtin AWR-reports and ASH-reports</li>
                    </ul>
                </ul>

                <h3>How to get it?</h3>
                    <ul>
                        <li>You can use Panorama for free under the terms and conditions of <a href="http://www.gnu.org/licenses/gpl-3.0" target="_blank">GNU General Public License</a>.</li>
                        <li><a href="panorama_download.html" target="_blank">Download Panorama application here (Panorama.war)</a></li>
                    </ul>

                <h3>How to run it?</h3>
                <h4>Start running quickly</h4>
                <ul>
                    <li><a href="panorama_download.html" target="_blank">Download file Panorama.war</a></li>
                    <li>Open a terminal window, navigate to the directory containing Panorama.war and type <pre>java -jar Panorama.war</pre> no matter if your are running Windows, Linux or Mac-OS</li>
                    <li>This starts the embedded Jetty application server within one or two minutes, accessible at port 8080 via <pre style="display: inline;">http://&lt;your&nbsp;server&nbsp;ip&gt;:8080</pre></li>
                    <li>Now you can connect to Panorama's login screen in your browser via <pre style="display: inline;">http://&lt;your&nbsp;server&nbsp;ip&gt;:8080/Panorama</pre></li>
                </ul>

                <h4>Customize your installation</h4>
                <ul>
                    <li>Panorama stores encrypted session connect data and usage log in your local filesystem.<br/>
                        You can control the directory for this files by setting the environment variable <pre style="display: inline;">PANORAMA_VAR_HOME</pre> to your target directory.<br/>
                        Without defining <pre style="display: inline;">PANORAMA_VAR_HOME</pre> you will lose your saved connection info at restart of Panorama server.
                    </li>
                    <li>You can specify the following additional Java-options executing <pre style="display: inline;">java &lt;options&gt; -jar Panorama.war</pre>:
                        <ul>
                            <li><pre style="display: inline;">-Xmx1024m -Xms1024m</pre> : startup and max. heap memory allocation for JVM,<br>minimum value of 512 MB suggested,<br>for production use choose 1024m or higher (suggestion: 4096m)</li>
                            <li><pre style="display: inline;">XX:MaxPermSize=512M</pre> : object space for java classes, suggested value 512MB (until Java 7, unnecessary beginning Java 8)</li>
                            <li><pre style="display: inline;">-Djava.io.tmpdir=mydir</pre> : define working directory for extraction of jar file, default is system's temp dir</li>
                            <li><pre style="display: inline;">-Dwarbler.port=9090</pre> : Use another http-port than default 8080 for Panorama's URL</li>
                        </ul>
                    </li>
                    <li><a href="http://github.com/rammpeter/Panorama/blob/master/start_Panorama.sh" target="_blank">Here you can find a sample shell-script to start Panorama for Unix/Linux</a></li>
                    <li>Panorama.war can also be run as web archive in any Java JEE application server or web container like Tomcat, Glassfish, JBoss etc. .<br>
                        For production use with SSL encrypted https-connections I personally use Tomcat.</li>
                </ul>

                <h4>Run demo installation</h4>
                <ul>
                    <li><a href="https://panorama-ramm.herokuapp.com" target="_blank">Run preinstalled Panorama at Heroku-cloud (requires connect to your Oracle-DB from internet for usage)</a></li>
                </ul>

                <h4>Start as Docker image</h4>
                Panorama is also available as docker image at dockerhub.com for immediate execution at your docker host.<br/>
                To download and start Panorama immediately type:<br/>
                <pre>docker run --name panorama -p8080:8080 -d rammpeter/panorama</pre>
                You can customize your Docker container:
                <ul>
                    <li>Mount your host's tnsnames.ora at $TNS_ADMIN/tnsnames.ora into the container in folder /etc and tell it Panorama by setting $TNS_ADMIN in container so Panorama can refer to your config:  <pre style="display: inline;">-v $TNS_ADMIN/tnsnames.ora:/etc/tnsnames.ora -e TNS_ADMIN=/etc</pre></li>
                    <li>Mount directory for Panorama's config files (/var/opt/panorama) to a directory of your choice outside the container so the config persists even if container is rebuilded</li>
                    <li>Set your timezone for Docker container (default is UTC): <pre style="display: inline;">-e TZ="Europe/Berlin"</pre></li>
                    <li>Set maximum Java heap space memory usable for Panorama in megabytes (Default=1024):<pre style="display: inline;">-e MAX_JAVA_HEAP_SPACE_MB=1024</pre>  </li>
                </ul>
                Example:
                <pre>docker run --name panorama -p8080:8080 \
  -v $TNS_ADMIN/tnsnames.ora:/etc/tnsnames.ora \
  -v /var/opt/my_panorama_config:/var/opt/panorama \
  -e TNS_ADMIN=/etc -e TZ="Europe/Berlin" \
  -e MAX_JAVA_HEAP_SPACE_MB=1024 \
  -d rammpeter/panorama</pre>

                Startup of application in docker container may require one or two minutes.
                Your docker container is up and running if this last two lines appear in log calling <pre style="display: inline;">docker logs panorama</pre>
                <pre>
2017-08-24 17:17:18.024:INFO:oejs.ServerConnector:main: Started ServerConnector@6a83bd10{HTTP/1.1}{0.0.0.0:8080}
2017-08-24 17:17:18.024:INFO:oejs.Server:main: Started @137606ms
                </pre>

                <h3>How to get help?</h3>
                <ul>
                    <li>Look at the image slide show to to get some info about Panorama's features</li>
                    <li>
                        Look at my blog at <a href="https://rammpeter.wordpress.com/category/panorama-news-and-hints/" target="_blank">https://rammpeter.wordpress.com</a> for news and usage hints.<b/>
                        To stay informed about further development you may subscribe to this blog.
                    </li>
                    <li><a href="https://github.com/rammpeter/Panorama/wiki" target="_blank">WIKI and FAQ (unforunately still under construction)</a></li>
                    <li>Write a <a href="mailto:Peter@ramm-oberhermsdorf.de">mail</a> if nothing else helps or to report problems.</li>
                    <li>Have a look at <a href="https://www.facebook.com/Panorama.for.Oracle" target="_blank">facebook</a></li>
                </ul>

                <h3>What about security?</h3>
                <ul>
                    <li>For production purposes you should run Panorama with SSL-encrypted web traffic (https). Easiest way for SSL connections is to run Panorama in a configured Tomcat etc. or use Nginx/Apache as proxy.</li>
                    <li>Your oracle password is stored encrypted in server memory and will be decrypted shortly only for the process of establishing connection to your target database.<br/>
                    The key used for this encryption consists of a server key which is salted with a unique client key specific to your browser instance.<br/>
                    This way only requests from your browser are able to reuse the stored connect info for reestablishing the database connection.</li>
                    <li>If you retain your login info for further fast logins (checkbox 'Save logins' in statup dialog), this info is stored in local server file system completely encrypted the same way like passwords.</li>
                    <li>You can customize the server key used for encryption by setting the environment variable <pre style="display: inline;">SECRET_KEY_BASE</pre> to value of your choice.<br/>
                        Every change of <pre style="display: inline;">SECRET_KEY_BASE</pre> at server site leads to invalidation of all stored connection info.
                    </li>
                </ul>

                <h3>Behind the scenes</h3>
                <h4>Implementation details</h4>
                <ul>
                    <li>Panorama is an Ruby on Rails application that runs with JRuby. Web resources you can find here:
                        <ul>
                            <li><a href="http://github.com/rammpeter/Panorama_Gem" target="_blank">Source code</a>, last commit is for release <span id="panorama_version"></span> from <span id="panorama_date"></span></li>
                            <li><a href="http://rawgit.com/rammpeter/Panorama_Gem/master/app/views/help/version_history.html" target="_blank">Version history</a></li>
                        </ul>
                    </li>
                    <li>If you use <pre style="display: inline;">tnsnames.ora</pre> for TNS name resolution it should be located at server site in <pre style="display: inline;">$ORACLE_HOME/network/admin</pre> or in a directory targeted by environment variable <pre style="display: inline;">TNS_ADMIN</pre>.</li>
                    <li>Panorama serves an arbitrary number of multiple web-client sessions at one time, each client may choose his own target database connection</li>
                    <li>Therefore Panorama starts multiple server instances in JRuby for simultaneous request processing (default = 3).<br/>Each server instance hold it's own Oracle-connection to the last used database and reuses this open connection, if the next requests uses the same database connection info.<br/>
                    If the next request uses another database, then the current connection is closed and opened with the new connection info.</li>
                    <li>Panorama renders one single web page via Ajax-calls. This way the back button of your browser is not supported to return to former page content.</li>
                    <li>Panorama writes short usage information to local plain text file 'panorama_usage_info.log' in the directory targeted by environment variable <pre style="display: inline;">PANORAMA_VAR_HOME</pre><br/>
                        You can view this log info via <pre style="display: inline;">http://&lt;your&nbsp;server&nbsp;ip&gt;:8080/Panorama/usage/info</pre>
                    </li>
                </ul>

                <h4>Possible runtime problems</h4>
                <ul>
                    <li>
                        Without defining environment variable <pre style="display: inline;">PANORAMA_VAR_HOME</pre> before starting Panorama you will lose your stored database connection info during restart because Jetty chooses a new temporary subdir for every startup.
                    </li>
                    <li>
                        Beginning with Java8 u102 you need to install the "Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files for JDK/JRE 8" to use strong encryption with Panorama<b/>
                        Panorama will remind you at startup if this is necessary.
                        <a href="http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html">Here you may find the JCE-files for Java 8</a>
                    </li>
                    <li>
                        Environment variable <pre style="display: inline;">CLASSPATH</pre> should not be set before starting Panorama.war to ensure that only Panorama's elements are used, especially the builtin JDBC driver for Oracle<br/>
                        If your are unsure for example what JDBC driver is used you can monitor class load paths by: <pre> java -verbose:class -jar Panorama.war | grep Oracle</pre>
                    </li>
                    <li>Some Java-problems may occur with IBM JVM. If you have trouble with that please use JVM from SUN/Oracle.</li>
                    <li>Under some rare circumstances (e.g. at Windows 10) Panorama's URL is <pre style="display: inline;">http://&lt;your&nbsp;server&nbsp;ip&gt;:8080</pre> without the suffix "Panorama"</li>
                    <li>If you encounter the error <pre style="display: inline;">Java::JavaLang::OutOfMemoryError (PermGen space)</pre> with Java version less than Java 8 than define initial value and limit for per space like <pre style="display: inline;">java -XX:PermSize=128M -XX:MaxPermSize=256M</pre></li>
                    <li>If you run Panorama on virtualised headless Linux server (e.g. in OpenStack-cloud) and your browser hangs after first request:
                        <ul>
                            <li>Reason: Your server does not generate enough enthropy values in /dev/random, so read on /dev/random blocks during encryption operation</li>
                            <li>Solution: Start Panorama with non-blocking entrophie generator by option <pre style="display: inline;">java.security.egd=file:/dev/urandom</pre><li>
                            <li>With embedded Jetty app-server use <pre style="display: inline;">java -Djava.security.egd=file:/dev/urandom -jar Panorama.war</pre></li>
                            <li>With Tomcat set <pre style="display: inline;">export CATALINA_OPTS=-Djava.security.egd=file:/dev/urandom</pre> before starting Tomcat</li>
                        </ul>
                    </li>
                </ul>
                <img src="images/Panorama_Overview.png"/>
                <h3>At least</h3>
                My request to americans: Please<br/>
                <div>
                    <img style="float: left" src="images/trash.png" height="50px"/><div style="font-weight: bold; font-size: larger;"><div style="color: red;">DUMP</div><div style="color: blue;">TRUMP</div></div>
                </div>

            </div>
        </div>
        <div style="clear: both;"></div>
    </div>
</div>
<script type="text/javascript">
    // Version und Datum ermitteln aus version.rb
    try {
        $.get("https://raw.githubusercontent.com/rammpeter/Panorama_Gem/master/lib/Panorama/version.rb", function( version_html ) {
            var rest = version_html.substring(version_html.indexOf('VERSION =')+11);    // Begin of version in string
            jQuery('#panorama_version').html(rest.substring(0, rest.indexOf("'")));

            rest = rest.substring(rest.indexOf('RELEASE_DATE = Date.parse(')+27)        // begin of date in string
            jQuery('#panorama_date').html(rest.substring(0, rest.indexOf("'")));
        }, 'text');
    }
    catch(err) {
        console.log("Error getting release and date: "+err.message);
    }



    var img_urls = [
        [ "images/login_tnsnames.jpg",       "Login screen: choose your database from tnsnames.ora, supply user name and passwort and push the lower 'Login'-button to login.<br/>" +
                                                "If you check 'Save login?', your login info will be stored encrypted at server site for fast login next time(upper drop-down selection).<br/>" +
                                                "To prevent server owner from compromising your passwords, they are encrypted with both server and client key. Your client key ist stored only within your local browser's cookie store." ],
        [ "images/login_hostportsid.jpg",    "Login screen: Switch identification mode to 'Host,Port,SID /Serice' if your database is not found in tnsnames.ora." ],
        [ "images/mouseover-hint.jpg",       "GUI defaults: If you place your mouse over GUI-elements for a while, a tooltip with detailed info will appear.<br/>This is used within the whole application.<br/>Also single cells in grid views may contain their own special tooltip info." ],
        [ "images/home.jpg",                 "Home: Gives some basic information about your database and it's instances" ],
        [ "images/grid-usage.jpg",           "GUI defaults: Tables/grid views always have a context menu via right mouse click on table or long touch on tablets.<br/>" +
                                                "Some context menu functions are column-specific. Content can be sorted by click on column header<br/>" +
                                                "Additional functions on page are available via hyperlinks or submit buttons<br/>" +
                                                "Next result is always presented at the bottom of the current page without refusal of current page content.<br/>" +
                                                "So you can drill down in analysis workflow step by step and go back to previous steps, which are still available above.<br/>" +
                                                "You can adjust the height of grids per mouse with a slider at the lower bound of the grid" ],
        [ "images/ash-entry.jpg",             "How to start analyzing performance issues" ],
        [ "images/ash-show.jpg",              "Active session history: Choose time range for consideration and first grouping criteria.<br/>Optionally filter on single RAC-instance or some other possible criterias." ],
        [ "images/ash-first.jpg",             "Active session history: First selection grouped by choosen criteria 'Event'.<br/>" +
                                                "Sort-column 'Total time waited' shows the time all active sessions have spent in this wait event for the filter criterias above.<br/>" +
                                                "Hyperlinks with numbers in angle brackets mean for example: there are sessions of 8 different RAC-instances in wait event 'ON CPU' working for 936,191 seconds<br/>" +
                                                "If you click the '< 8 >' then next result will show you one line for each RAC-instance for wait event 'ON CPU'.<br/>" +
                                                "So you are able to refine your result for several criterias and drill down deeper and deeper to isolate reasons for the active sessions." ],
        [ "images/ash-second.jpg",            "Active session history: Now you have an equal grid like before with additional filter for wait event 'ON CPU' grouped by RAC-instance.<br/>" +
                                                "You can switch from numeric view to timeline graph via context menu entries 'Show top 10 xxx' (right mouse click on table)" ],
        [ "images/ash-graph_1.jpg",           "Active session history: This graph show top ten group criterias on time line.<br/>" +
                                                "You can show/hide y-axis and switch chart to use own y-scale for every graph (useful if there are large differences between numeric values of graphs)<br/>"],
        [ "images/ash-graph_2.jpg",           "Active session history: Context menu function 'Stack single charts' from previous slide allows you to view values for single graphs and sum of all graphs at once." ],
        [ "images/ash-samples.jpg",           "Active session history: Click the link 'number of sample records' to view the single records of active session history selection.<br/>If the number of records is to large to view they will be grouped by hour." ],
        [ "images/ash-temp.jpg",              "Active session history: Click the link 'Max. Temp' or 'Max- PGA' to view the Temp and PGA-usage.<br/>'Grouping' allows you to change the time precision for each row. Click 'Samples' to view the records of selected time for drill down." ],
        [ "images/ash-sqlid.jpg",             "Active session history: If you group your selection by SQL-ID than you may click the link 'SQL-ID' to evaluate this single SQL wthin your choosen time range.<br/>This allows you to change the scope from active session history to SQL evaluation." ],
    ]

    lightBox_SlideShow("panorama_global", img_urls);
    jQuery('#panorama_text').css('max-width', '800px');
</script>

</body>
</html>
