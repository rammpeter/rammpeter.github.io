<h3>Missing housekeeping for mass data</h3>
For many constellations it is essential to remove not productive used aged data from the system m System.<br/>
If last analyze table was far enough in history this selection may help to detect gaps in housekeeping.<br/>
Stated here are inserts and updates since last GATHER_TABLE_STATS for tables without any delete operations.<br/>
<pre style='background-color: #FFFFCC;'>SELECT /* DB-Tools Ramm Housekeeping*/
                             m.Table_Owner, m.Table_Name, m.TimeStamp, t.Last_analyzed,
                             ROUND(m.Timestamp - t.Last_Analyzed, 2) Tage_nach_Analyze,
                             m.Inserts, m.Updates, m.Deletes, m.Truncated, m.Drop_Segments
                      FROM   (SELECT Table_Owner, Table_Name, MAX(Timestamp) Timestamp,
                                     SUM(Inserts) Inserts, SUM(Updates) Updates, SUM(Deletes) Deletes,
                                     MAX(Truncated) Truncated, SUM(Drop_Segments) Drop_Segments
                              FROM sys.DBA_Tab_Modifications
                              GROUP BY Table_Owner, Table_Name
                             ) m
                      JOIN   DBA_Tables t ON t.Owner = m.Table_Owner AND t.Table_Name = m.Table_Name
                      WHERE m.Deletes = 0 AND m.Truncated = 'NO'
                      ORDER BY m.Inserts+m.Updates+m.Deletes DESC NULLS LAST</pre>