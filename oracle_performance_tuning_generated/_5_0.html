<h3>Erheblich größere Laufzeit je Module gegenüber Durchschnitt über längere Zeit</h3>
Auf Basis der Active Session History lassen sich Ausreiser der DB-Laufzeit je Modul ausweisen.<br/>
Die Betrachtungseinheit wird über date format picture der TRUNC-Funktion festgelegt (DD=Tag, HH24=Stunde etc.)<pre style='background-color: #FFFFCC;'>WITH Modules AS (
               SELECT /*+ PARALLEL(h,2) */
                      TRUNC(Sample_Time, picture)  Time_Range_Start,
                      Module,
                      MIN(Sample_Time)          First_Occurrence,
                      MAX(Sample_Time)          Last_Occurrence,
                      COUNT(*) * 10             Secs_Waiting
               FROM   DBA_Hist_Active_Sess_History h,
                      (SELECT :P1 picture FROM DUAL)
               WHERE  Sample_Time > SYSDATE-:P2
               AND    Instance_Number = :P3
               AND    NVL(Event, 'Hugo') NOT IN ('PX Deq Credit: send blkd')
               GROUP BY TRUNC(Sample_Time, picture), Module
              )
           SELECT Module,
                  SUM(Secs_Waiting)        "Waiting secs. total",
                  ROUND(AVG(Secs_Waiting)) "Waiting secs. avg",
                  MIN(Secs_Waiting)        "Waiting secs. min",
                  MIN(Time_Range_Start) KEEP (DENSE_RANK FIRST ORDER BY Secs_Waiting) "Time range start of min.",
                  MAX(Secs_Waiting)        "Waiting secs. max.",
                  MAX(Time_Range_Start) KEEP (DENSE_RANK LAST ORDER BY Secs_Waiting) "Time range start of max.",
                  MIN(First_Occurrence)    "First occurrence",
                  MAX(Last_Occurrence)     "Last occurrence"
           FROM   Modules
           GROUP BY Module
           ORDER BY MAX(Secs_Waiting)-AVG(Secs_Waiting) DESC
           </pre><div>Parameter :P1: Format-picture of TRUNC function (DD=day, HH24=hour etc.)</div><div>Parameter :P2: Number of days in history backward from now for consideration</div><div>Parameter :P3: RAC-Instance</div>