stages:
  - build
  - test
  - deploy

before_script:
  - ls -l
  - ruby -v
  - which ruby

generate_asciidoc:
  stage: build
  tags:
    - ruby
  script:
    - gem install asciidoctor
    - ./generate_adoc_html.sh
    - git status
    - git stage Oracle_performance_analysis_with_Panorama.html
    - git commit -m "html-file generated by asciidoctor" Oracle_performance_analysis_with_Panorama.html
    - git push
    - echo "CI_COMMIT_REF_NAME = $CI_COMMIT_REF_NAME"
    - echo "GIT_ACCESS_USER = $GIT_ACCESS_USER"
    - echo "GIT_ACCESS_PASSWORD = $GIT_ACCESS_PASSWORD"
    - echo "GIT_ACCESS_EMAIL = $GIT_ACCESS_EMAIL"
